{{ define "main" }}
  {{ with .Content }}
    <div class="intro">
      {{ . }}
    </div>
  {{ end }}

  {{/* Skip the default post list on the blog archive page so the archive’s year paginator is the only one */}}
  {{ if not (and .IsSection (eq .Section "blog")) }}
    <ul class="blog-posts">
      {{ range .Paginator.Pages }}
        <li>
          <span>{{ .Date.Format "02 Jan 2006" }}</span>
          <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </li>
      {{ end }}
    </ul>

    {{ if gt .Paginator.TotalPages 1 }}
      <nav class="pagination" style="margin-top: 2rem; text-align: center;">
        {{ if .Paginator.HasPrev }}
          <a href="{{ .Paginator.Prev.URL }}" rel="prev">← Previous</a>
        {{ end }}
        <span style="margin: 0 1rem;">
          Page {{ .Paginator.PageNumber }} of {{ .Paginator.TotalPages }}
        </span>
        {{ if .Paginator.HasNext }}
          <a href="{{ .Paginator.Next.URL }}" rel="next">Next →</a>
        {{ end }}
      </nav>
    {{ end }}
  {{ end }}
{{ end }}
